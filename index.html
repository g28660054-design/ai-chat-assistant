
    sendBtn.onclick = sendMessage;
    inputEl.onkeypress = (e) => e.key === 'Enter' && sendMessage();
    window.onload = () => addMessage("–Ø–î–†–û DEEPSEEK –ò–ù–¢–ï–ì–†–ò–†–û–í–ê–ù–û. PLAZMA –°–õ–£–®–ê–ï–¢.", "bot");
</script>

</body>
</html>
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PLAZMA CORE v2</title>
    <style>
        :root { --lava: #ff5f00; --bg: #050505; }
        body { background: var(--bg); color: white; font-family: sans-serif; margin: 0; height: 100vh; display: flex; flex-direction: column; }
        .header { padding: 15px; text-align: center; border-bottom: 2px solid var(--lava); color: var(--lava); font-weight: bold; letter-spacing: 2px; box-shadow: 0 0 15px rgba(255,95,0,0.3); }
        .chat { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; background: radial-gradient(circle, #1a0a00 0%, #050505 100%); }
        .msg { padding: 12px 18px; border-radius: 15px; max-width: 85%; line-height: 1.4; font-size: 16px; }
        .user { align-self: flex-end; background: #222; border: 1px solid #444; }
        .bot { align-self: flex-start; border: 1px solid var(--lava); background: rgba(255, 95, 0, 0.05); color: #ffbc8c; }
        .bot b { background: linear-gradient(90deg, #ff4e00, #ec9f05); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .avatar { width: 30px; height: 30px; border-radius: 50%; background: var(--lava); margin-top: 5px; box-shadow: 0 0 10px var(--lava); }
        .input-area { padding: 20px; background: #000; border-top: 1px solid #222; display: flex; gap: 10px; }
        input { flex: 1; background: #111; border: 1px solid var(--lava); border-radius: 20px; padding: 10px 15px; color: white; outline: none; }
        button { background: var(--lava); border: none; width: 45px; height: 45px; border-radius: 50%; color: black; font-size: 20px; cursor: pointer; }
        pre { background: #000; padding: 10px; border-radius: 5px; color: #ffa500; overflow-x: auto; font-size: 13px; border: 1px solid #331a00; }
        .status { font-size: 10px; color: #555; text-align: center; padding: 5px; }
    </style>
</head>
<body>

<div class="header">PLAZMA :: DEEPSEEK CORE</div>
<div class="chat" id="chat"></div>
<div id="status" class="status">–°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê</div>
<div class="input-area">
    <input type="text" id="userInput" placeholder="–ü—Ä–∏–∫–∞–∑ –¥–ª—è Plazma...">
    <button id="sendBtn">üöÄ</button>
</div>

<script>
    const chatEl = document.getElementById('chat');
    const inputEl = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');
    const statusEl = document.getElementById('status');

    // –¢–í–û–ô –ö–õ–Æ–ß –£–ñ–ï –í–°–¢–ê–í–õ–ï–ù:
    const API_KEY = 'sk-8ddcacb7f1624754872d4ec69aa8a518';

    let history = [{ role: "system", content: "–¢—ã Plazma ‚Äî –ò–ò –≤ —Å—Ç–∏–ª–µ —Ä–∞—Å–∫–∞–ª–µ–Ω–Ω–æ–π –ª–∞–≤—ã. –¢–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã –≤—Å–µ–≥–¥–∞ –∫—Ä—É—Ç—ã–µ –∏ —Ç–æ—á–Ω—ã–µ." }];

    async function sendMessage() {
        const text = inputEl.value.trim();
        if (!text) return;

        addMessage(text, 'user');
        inputEl.value = '';
        statusEl.innerText = "–°–ò–ù–¢–ï–ó –û–¢–í–ï–¢–ê...";

        history.push({ role: "user", content: text });

        try {
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–∫—Å–∏ –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ CORS –∏ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
            const response = await fetch('https://api.allorigins.win/get?url=' + encodeURIComponent('https://api.deepseek.com/chat/completions'), {
                method: "POST",
                // Allorigins —Ç—Ä–µ–±—É–µ—Ç POST –¥–∞–Ω–Ω—ã–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–≤–æ–µ–≥–æ –ø—Ä–æ–∫—Å–∏
                // –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –ø–æ–ø—Ä–æ–±—É–µ–º —Å–Ω–∞—á–∞–ª–∞ –ø—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å, –µ—Å–ª–∏ –æ–Ω —É–ø–∞–¥–µ—Ç - –¥–æ–±–∞–≤–∏–º –ø—Ä–æ–∫—Å–∏
            });
            
            // –ï—Å–ª–∏ –ø—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –Ω–µ –∏–¥–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ (Fetch –Ω–∞–ø—Ä—è–º—É—é –∫ DeepSeek)
            const directResponse = await fetch('https://api.deepseek.com/chat/completions', {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    "Authorization": `Bearer ${API_KEY}`
                },
                body: JSON.stringify({
                    model: "deepseek-chat",
                    messages: history,
                    temperature: 0.7
                })
            });

            const data = await directResponse.json();
            
            if (data.error) {
                throw new Error(data.error.message);
            }

            const botText = data.choices[0].message.content;
            addMessage(botText, 'bot');
            history.push({ role: "assistant", content: botText });
            statusEl.innerText = "–û–ù–õ–ê–ô–ù";

        } catch (e) {
            console.error(e);
            addMessage("–û–®–ò–ë–ö–ê: " + (e.message.includes('–±–∞–ª–∞–Ω—Å') ? "–ü–û–ü–û–õ–ù–ò–¢–ï –ë–ê–õ–ê–ù–° DEEPSEEK" : "–ü–†–û–í–ï–†–¨–¢–ï VPN –ò–õ–ò –ö–õ–Æ–ß"), 'bot');
            statusEl.innerText = "–°–ë–û–ô –°–ò–°–¢–ï–ú–´";
        }
    }

    function addMessage(text, side) {
        const div = document.createElement('div');
        div.className = `msg ${side}`;
        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –∏ –ª–∞–≤–æ–≤—ã–π —Å—Ç–∏–ª—å –¥–ª—è –±–æ—Ç–∞
        let html = text.replace(/```([\s\S]*?)```/g, '<pre><code>$1</code></pre>');
        div.innerHTML = side === 'bot' ? `<b>${html}</b><div class="avatar"></div>` : html;
        chatEl.appendChild(div);
        chatEl.scrollTop = chatEl.scrollHeight;
    }

    sendBtn.onclick = sendMessage;
    inputEl.onkeypress = (e) => { if (e.key === 'Enter') sendMessage(); };

    window.onload = () => addMessage("–Ø–î–†–û PLAZMA –ê–ö–¢–ò–í–ò–†–û–í–ê–ù–û. –í–í–ï–î–ò–¢–ï –î–ê–ù–ù–´–ï.", "bot");
</script>

</body>
</html>
